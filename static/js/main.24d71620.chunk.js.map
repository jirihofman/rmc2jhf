{"version":3,"sources":["calculation.jsx","components/resultTable.jsx","Main.js","localization/index.js","localization/en.js","localization/cs.js","index.js"],"names":["combineGoals","goals","goalsCombined","months","map","g","filter","x","i","a","indexOf","console","log","getPeriods","m","toPay","amount","reduce","b","getResults","combinedIntervals","result","intervals","periods","previousLower","forEach","p","toCombine","interval","idx","index","total","goal","monthStart","month","duration","length","paymentMin","monthEnd","Math","max","apply","o","combineIntervals","sort","min","j","previousMonth","getIntervals","ResultTable","react_default","createElement","i18n","t","_this","this","props","Grid","fluid","Row","key","renderTableRow","Component","Main","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","calcDisabled","isCalcDisabled","name","handleSubmit","bind","assertThisInitialized","style","margin","Col","xs","md","Button","type","onClick","handleRemoveGoal","bsStyle","title","Glyphicon","glyph","FormGroup","controlId","concat","ControlLabel","FormControl","placeholder","value","onChange","handleGoalNameChange","setState","s","sidx","attr","evt","newgoals","objectSpread","target","event","disabled","some","isNaN","_this2","Form","handleAddGoal","renderGoalInputs","getCalculateTitle","resultTable","localization","en","translation","goal-add","goal-amount","goal-months","goal-remove","calculation-title","do-calculation","calculation-month","calculation-results","czk","calculate-disabled-title","cs","i18next","init","lng","resources","interpolation","escapeValue","ReactDOM","render","src_Main","document","getElementById"],"mappings":"gTAkDO,SAASA,EAAaC,GAC5B,IACIC,EATE,SAAoBD,GAC1B,IAAME,EAASF,EAAMG,IAAI,SAAAC,GAAC,OAAIA,EAAEF,SAAQG,OAAO,SAACC,EAAGC,EAAGC,GAAP,OAAaA,EAAEC,QAAQH,KAAOC,IAE7E,OADAG,QAAQC,IAAIT,GACLA,EAKQU,CAAWZ,GACCG,IAAI,SAAAU,GAC9B,IAAIT,EAAI,GAEFU,EAAQd,EAAMK,OAAO,SAAAD,GAAC,OAAIA,EAAEF,SAAWW,IAAGV,IAAI,SAAAC,GAAC,OAAIA,EAAEW,SAAQC,OAAO,SAAUR,EAAGS,GAAK,OAAOT,EAAIS,IAGvG,OAFAb,EAAEW,OAASD,EACXV,EAAEF,OAASW,EACJT,IAIR,OADAM,QAAQC,IAAIV,GACLA,EAqCD,SAASiB,EAAWC,GAC1B,IAAMC,EAnCA,SAA0BC,GAChC,IAAMC,EAAUD,EAAUhB,OAAO,SAAAE,GAAC,OAAKA,EAAEgB,gBA8BzC,OA7BAD,EAAQE,QAAQ,SAACC,EAAGlB,GAEnBG,QAAQC,IAAI,0BAA2BJ,EAAGe,EAAQf,EAAI,IACtDkB,EAAEC,UAAYL,EAAUhB,OAAO,SAACsB,EAAUC,GACzC,GAAID,EAASJ,eAAiBI,EAASE,MAAQJ,EAAEI,QAAWP,EAAQf,EAAI,IAAMe,EAAQf,EAAI,GAAGsB,MAAQF,EAASE,QAAWP,EAAQf,EAAI,IAEpI,OADAG,QAAQC,IAAI,WAAYgB,EAASE,MAAOF,EAAUF,IAC3C,MAMVH,EAAQE,QAAQ,SAACC,EAAGlB,GAGnB,GAFAkB,EAAEK,MAAQL,EAAEM,KAAKhB,OACjBU,EAAEO,WAAaP,EAAEQ,MAAQR,EAAES,SAAW,EAClCT,EAAEC,WAAaD,EAAEC,UAAUS,OAAS,EAAG,CAC1CzB,QAAQC,IAAI,mCAAoCc,EAAGA,EAAEC,WACrD,IAAMZ,EAAQW,EAAEC,UAAUvB,IAAI,SAAAC,GAAC,OAAIA,EAAE2B,KAAKhB,SAAQC,OAAO,SAAUR,EAAGS,GAAK,OAAOT,EAAIS,IACtFP,QAAQC,IAAI,KAAMG,EAAOW,GACzBA,EAAEK,OAAShB,EACXW,EAAES,UAAYT,EAAEC,UAAUvB,IAAI,SAAAC,GAAC,OAAIA,EAAE8B,WAAUlB,OAAO,SAAUR,EAAGS,GAAK,OAAOT,EAAIS,IACnFQ,EAAEW,WAAaX,EAAEK,MAAQL,EAAES,SAE3B,IAAMG,EAAWC,KAAKC,IAAIC,MAAMF,KAAMb,EAAEC,UAAUvB,IAAI,SAAUsC,GAAK,OAAOA,EAAEV,KAAK7B,UACnFuB,EAAEO,WAAaK,EAAWZ,EAAES,SAAW,EACvCT,EAAEQ,MAAQI,KAILf,EAIQoB,CApGT,SAAsB1C,GAG5B,GAFAU,QAAQC,IAAI,eAEPX,GAA0B,IAAjBA,EAAMmC,OACnB,OAAO,KAERnC,EAAMG,IAAI,SAAC4B,EAAMxB,GAChBG,QAAQC,IAAI,SAAUJ,EAAGwB,KAE1B/B,EAAM2C,KAAK,SAACnC,EAAGS,GACd,OAAOT,EAAEN,OAASe,EAAEf,SAErBF,EAAMG,IAAI,SAAC4B,EAAMxB,GAChBG,QAAQC,IAAI,cAAeJ,EAAGwB,KAG/B,IAAMV,EAAYrB,EAAMG,IAAI,SAAC4B,EAAMxB,GAClC,MAAO,CAAE0B,MAAOF,EAAK7B,OAAQ0C,IAAK,EAAGrB,eAAe,KAErDb,QAAQC,IAAI,YAAaU,GAEzB,IAAMS,EAAQ9B,EAAMG,IAAI,SAAAC,GAAC,OAAIA,EAAEW,SAAQC,OAAO,SAACR,EAAGS,GAAJ,OAAUT,EAAIS,GAAG,GACzDiB,EAAWI,KAAKC,IAAIC,MAAMF,KAAMtC,EAAMG,IAAI,SAAUsC,GAAK,OAAOA,EAAEvC,UAkBxE,OAjBAQ,QAAQC,IAAI,wBAAyBmB,EAAOI,GAE5Cb,EAAUG,QAAQ,SAACG,EAAUpB,GAC5BoB,EAASiB,IAAM5C,EAAMG,IAAI,SAACC,EAAGyC,GAAQ,OAAItC,GAAKsC,EAAYzC,EAAEW,OAAwB,IAAQC,OAAO,SAACR,EAAGS,GAAJ,OAAUT,EAAIS,GAAG,GACpHU,EAASmB,cAAgB9C,EAAMO,EAAI,GAAKP,EAAMO,EAAI,GAAGL,OAAS,EAC9DyB,EAASO,SAAWP,EAASM,MAAQN,EAASmB,qBACvCnB,EAASmB,cAChBnB,EAASS,WAAapC,EAAMO,GAAGQ,OAASY,EAASO,SACjDP,EAASI,KAAO/B,EAAMO,GAElBc,EAAUd,EAAI,IAAOc,EAAUd,EAAI,GAAG6B,WAAaT,EAASS,aAC/D1B,QAAQC,IAAI,0CAA2CU,EAAUd,EAAI,GAAG6B,WAAYT,EAASS,YAC7FT,EAASJ,eAAgB,GAE1BI,EAASE,MAAQtB,EACjBG,QAAQC,IAAI,oBAAqBJ,EAAGoB,KAE9BN,EA4DyB0B,CAAahD,EAAaoB,KAG1D,OAFAT,QAAQC,IAAIS,GAELA,MCtEO4B,yLA3BCrB,GACd,OAAKA,EAGGsB,EAAAzC,EAAA0C,cAAA,WAAMvB,EAASK,WAAf,OAA+BL,EAASM,MAAxC,KAAiDkB,IAAKC,EAAE,qBAAxD,MAAiFzB,EAASS,WAA1F,IAAuGe,IAAKC,EAAE,QAF9G,sCAMA,IAAAC,EAAAC,KACFjC,EAAYiC,KAAKC,MAAMlC,UAE7B,OAAKA,GAAkC,IAArBA,EAAUc,OAI3Bc,EAAAzC,EAAA0C,cAACM,EAAA,EAAD,CAAMC,OAAK,GACVR,EAAAzC,EAAA0C,cAAA,UAAKC,IAAKC,EAAE,wBACX/B,EAAUlB,IAAI,SAACwB,EAAUC,GACzB,OAAOqB,EAAAzC,EAAA0C,cAACQ,EAAA,EAAD,CAAKC,IAAK/B,GACfyB,EAAKO,eAAejC,OAPjB,YAdgBkC,aC8GXC,cA3Gd,SAAAA,EAAYP,GAAO,IAAAF,EAAA,OAAAU,OAAAC,EAAA,EAAAD,CAAAT,KAAAQ,IAClBT,EAAAU,OAAAE,EAAA,EAAAF,CAAAT,KAAAS,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAAb,KAAMC,KACDa,MAAQ,CACZC,aAAchB,EAAKiB,iBACnBjD,UAAW,GACXrB,MAAO,CAAC,CAAEuE,KAAM,GAAIxD,OAAQ,EAAGb,OAAQ,KAGxCmD,EAAKmB,aAAenB,EAAKmB,aAAaC,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAV,KARFA,gFAUFtB,EAAMH,GACtB,OACCqB,EAAAzC,EAAA0C,cAACQ,EAAA,EAAD,CAAKC,IAAK/B,EAAK+C,MAAO,CAAEC,OAAU,UACjC3B,EAAAzC,EAAA0C,cAAC2B,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,GACf9B,EAAAzC,EAAA0C,cAAC8B,EAAA,EAAD,CAAQC,KAAK,SAASC,QAAS5B,KAAK6B,iBAAiBV,KAAKnB,KAAM1B,GAAMwD,QAAQ,SAASC,MAAOlC,IAAKC,EAAE,gBAAgBH,EAAAzC,EAAA0C,cAACoC,EAAA,EAAD,CAAWC,MAAM,YAEvItC,EAAAzC,EAAA0C,cAAC2B,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,GACf9B,EAAAzC,EAAA0C,cAACsC,EAAA,EAAD,CAAWC,UAAS,QAAAC,OAAU9D,IAC7BqB,EAAAzC,EAAA0C,cAACyC,EAAA,EAAD,KAAexC,IAAKC,EAAE,SACtBH,EAAAzC,EAAA0C,cAAC0C,EAAA,EAAD,CAAaX,KAAK,OAAOY,YAAa1C,IAAKC,EAAE,QAAP,KAAAsC,OAAsB9D,EAAM,GAAKkE,MAAO/D,EAAKwC,KAAMwB,SAAUzC,KAAK0C,qBAAqBvB,KAAKnB,KAAM1B,EAAK,YAG/IqB,EAAAzC,EAAA0C,cAAC2B,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,GACf9B,EAAAzC,EAAA0C,cAACsC,EAAA,EAAD,CAAWC,UAAS,UAAAC,OAAY9D,IAC/BqB,EAAAzC,EAAA0C,cAACyC,EAAA,EAAD,KAAexC,IAAKC,EAAE,gBACtBH,EAAAzC,EAAA0C,cAAC0C,EAAA,EAAD,CAAaX,KAAK,OAAOY,YAAY,OAAOC,MAAO/D,EAAKhB,OAAQgF,SAAUzC,KAAK0C,qBAAqBvB,KAAKnB,KAAM1B,EAAK,cAGtHqB,EAAAzC,EAAA0C,cAAC2B,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,GACf9B,EAAAzC,EAAA0C,cAACsC,EAAA,EAAD,CAAWC,UAAS,UAAAC,OAAY9D,IAC/BqB,EAAAzC,EAAA0C,cAACyC,EAAA,EAAD,KAAexC,IAAKC,EAAE,gBACtBH,EAAAzC,EAAA0C,cAAC0C,EAAA,EAAD,CAAaX,KAAK,OAAOY,YAAY,KAAKC,MAAO/D,EAAK7B,OAAQ6F,SAAUzC,KAAK0C,qBAAqBvB,KAAKnB,KAAM1B,EAAK,uDAQtH0B,KAAK2C,SAAS,CACbjG,MAAOsD,KAAKc,MAAMpE,MAAM0F,OAAO,CAAC,CAAEnB,KAAM,GAAIxD,OAAQ,EAAGb,OAAQ,gDAGhD0B,GAChB0B,KAAK2C,SAAS,CACbjG,MAAOsD,KAAKc,MAAMpE,MAAMK,OAAO,SAAC6F,EAAGC,GAAJ,OAAavE,IAAQuE,mDAGjCvE,EAAKwE,EAAMC,GAC/B,IAAMC,EAAWhD,KAAKc,MAAMpE,MAAMG,IAAI,SAAC4B,EAAMoE,GAC5C,GAAIvE,IAAQuE,EAAQ,OAAOpE,EAC3B,OAAQqE,GACP,IAAK,SACJ,OAAOrC,OAAAwC,EAAA,EAAAxC,CAAA,GAAKhC,EAAZ,CAAkBhB,OAAQsF,EAAIG,OAAOV,QACtC,IAAK,SACJ,OAAO/B,OAAAwC,EAAA,EAAAxC,CAAA,GAAKhC,EAAZ,CAAkB7B,OAAQmG,EAAIG,OAAOV,QACtC,QACC,OAAO/B,OAAAwC,EAAA,EAAAxC,CAAA,GAAKhC,EAAZ,CAAkBwC,KAAM8B,EAAIG,OAAOV,WAItCxC,KAAK2C,SAAS,CAAEjG,MAAOsG,EAAUjC,aAAcf,KAAKgB,wDAGxCmC,GACZnD,KAAK2C,SAAS,CAAE5E,UAAWH,EAAWoC,KAAKc,MAAMpE,kDAIjD,IAAI0G,GAAW,EAMf,OALIpD,KAAKc,OAASd,KAAKc,MAAMpE,OAASsD,KAAKc,MAAMpE,MAAMmC,SACtDuE,EAAWpD,KAAKc,MAAMpE,MAAM2G,KAAK,SAAAvG,GAAC,OAAIwG,MAAMxG,EAAEW,SAAW6F,MAAMxG,EAAEF,UACjEwG,EAAWpD,KAAKc,MAAMpE,MAAM2G,KAAK,SAAAvG,GAAC,OAAiB,IAAbA,EAAEF,UAGlCwG,8CAIP,OAAIpD,KAAKgB,iBACDnB,IAAKC,EAAE,4BAEP,sCAIA,IAAAyD,EAAAvD,KACR,OACCL,EAAAzC,EAAA0C,cAACM,EAAA,EAAD,CAAMC,OAAK,GACVR,EAAAzC,EAAA0C,cAAA,UAAKC,IAAKC,EAAE,sBACZH,EAAAzC,EAAA0C,cAAC4D,EAAA,EAAD,KACC7D,EAAAzC,EAAA0C,cAACQ,EAAA,EAAD,KACCT,EAAAzC,EAAA0C,cAAC8B,EAAA,EAAD,CAAQE,QAAS5B,KAAKyD,cAActC,KAAKnB,MAAO8B,QAAQ,UAAUT,MAAO,CAAEC,OAAU,UAAW3B,EAAAzC,EAAA0C,cAACoC,EAAA,EAAD,CAAWC,MAAM,SAAjH,IAA4HpC,IAAKC,EAAE,cAEpIH,EAAAzC,EAAA0C,cAACQ,EAAA,EAAD,KACEJ,KAAKc,MAAMpE,MAAMG,IAAI,SAAC4B,EAAMxB,GAAP,OAAasG,EAAKG,iBAAiBjF,EAAMxB,MAEhE0C,EAAAzC,EAAA0C,cAACQ,EAAA,EAAD,KACCT,EAAAzC,EAAA0C,cAAC8B,EAAA,EAAD,CAAQE,QAAS5B,KAAKkB,aAAcY,QAAQ,UAAUT,MAAO,CAAEC,OAAU,SAAW8B,SAAUpD,KAAKgB,iBAAkBe,MAAO/B,KAAK2D,qBAAsB9D,IAAKC,EAAE,qBAGhKH,EAAAzC,EAAA0C,cAACgE,EAAD,CAAa7F,UAAWiC,KAAKc,MAAM/C,oBAtGpBwC,aCHJsD,EAAA,CAAEC,GCHF,CACdC,YAAa,CACZtF,KAAQ,OACRuF,WAAY,WACZC,cAAe,SACfC,cAAe,SACfC,cAAe,cACfC,oBAAqB,cACrBC,iBAAkB,YAClBC,oBAAqB,QACrBC,sBAAuB,UACvBC,IAAO,MACPC,2BAA4B,+GDTTC,GEHN,CACdX,YAAa,CACZtF,KAAQ,SACRuF,WAAY,qBACZC,cAAe,iBACfC,cAAe,iCACfC,cAAe,iBACfC,oBAAqB,kCACrBC,iBAAkB,6BAClBC,oBAAqB,gBACrBC,sBAAuB,cACvBC,IAAO,UACPC,2BAA4B,yMCN9BE,IAAQC,KAAK,CACZC,IAAK,KACLC,UAAWjB,EACXkB,cAAe,CAAEC,aAAa,KAG/BC,IAASC,OACRvF,EAAAzC,EAAA0C,cAACuF,EAAD,MACAC,SAASC,eAAe","file":"static/js/main.24d71620.chunk.js","sourcesContent":["export function getIntervals(goals) {\n\tconsole.log('getResults');\n\n\tif (!goals || goals.length === 0) {\n\t\treturn null;\n\t}\n\tgoals.map((goal, i) => {\n\t\tconsole.log('Cil %s', i, goal);\n\t});\n\tgoals.sort((a, b) => {\n\t\treturn a.months - b.months;\n\t});\n\tgoals.map((goal, i) => {\n\t\tconsole.log('serazeno %s', i, goal);\n\t});\n\n\tconst intervals = goals.map((goal, i) => {\n\t\treturn { month: goal.months, min: 0, previousLower: false };\n\t});\n\tconsole.log('intervals', intervals);\n\n\tconst total = goals.map(g => g.amount).reduce((a, b) => a + b, 0);\n\tconst duration = Math.max.apply(Math, goals.map(function (o) { return o.months; }));\n\tconsole.log('total %s, duration %s', total, duration);\n\n\tintervals.forEach((interval, i) => {\n\t\tinterval.min = goals.map((g, j) => { if (i >= j) { return g.amount; } else { return 0; } }).reduce((a, b) => a + b, 0);\n\t\tinterval.previousMonth = goals[i - 1] ? goals[i - 1].months : 0;\n\t\tinterval.duration = interval.month - interval.previousMonth;\n\t\tdelete interval.previousMonth;\n\t\tinterval.paymentMin = goals[i].amount / interval.duration;\n\t\tinterval.goal = goals[i];\n\n\t\tif (intervals[i - 1] && (intervals[i - 1].paymentMin < interval.paymentMin)) {\n\t\t\tconsole.log('pro predchozi interval je nizsi splatka', intervals[i - 1].paymentMin, interval.paymentMin);\n\t\t\tinterval.previousLower = true;\n\t\t}\n\t\tinterval.index = i;\n\t\tconsole.log('foreach intervatl', i, interval);\n\t});\n\treturn intervals;\n}\n\nexport function getPeriods(goals) {\n\tconst months = goals.map(g => g.months).filter((x, i, a) => a.indexOf(x) === i);\n\tconsole.log(months);\n\treturn months;\n}\n\n// sloucim ty cile, ktere trvaji stejne dlouho. Muzu je brat jako jeden\nexport function combineGoals(goals) {\n\tconst months = getPeriods(goals);\n\tlet goalsCombined = months.map(m => {\n\t\tlet g = {};\n\t\t// dohledam cile, ktere se maji splatit na konci tohoto obdobi\n\t\tconst toPay = goals.filter(g => g.months === m).map(g => g.amount).reduce(function (a, b) { return a + b; });\n\t\tg.amount = toPay;\n\t\tg.months = m;\n\t\treturn g;\n\t});\n\n\tconsole.log(goalsCombined);\n\treturn goalsCombined;\n}\n\nexport function combineIntervals(intervals) {\n\tconst periods = intervals.filter(i => !i.previousLower);\n\tperiods.forEach((p, i) => {\n\t\t// zjistit si dalsi periodu, pred kterou se musim zstavit\n\t\tconsole.log('jsem v %s a dalsi je %s', i, periods[i + 1]);\n\t\tp.toCombine = intervals.filter((interval, idx) => {\n\t\t\tif (interval.previousLower && interval.index > p.index && ((periods[i + 1] && periods[i + 1].index > interval.index) || !periods[i + 1])) {\n\t\t\t\tconsole.log('pridavam', interval.index, interval, p);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t});\n\n\t// vim, ktere obdobi budu kombinovat do jedne splatky, ted je sectu dohromady a nastavim delku nove vznikleho obdobi\n\tperiods.forEach((p, i) => {\n\t\tp.total = p.goal.amount;\n\t\tp.monthStart = p.month - p.duration + 1;\n\t\tif (p.toCombine && p.toCombine.length > 0) {\n\t\t\tconsole.log('budeme slucovat obdobi a splatky', p, p.toCombine);\n\t\t\tconst toPay = p.toCombine.map(g => g.goal.amount).reduce(function (a, b) { return a + b; });\n\t\t\tconsole.log('+ ', toPay, p);\n\t\t\tp.total += toPay;\n\t\t\tp.duration += p.toCombine.map(g => g.duration).reduce(function (a, b) { return a + b; });\n\t\t\tp.paymentMin = p.total / p.duration;\n\t\t\t// zjistim posledni mesic splaceni tohoto sloucenoho obdobi\n\t\t\tconst monthEnd = Math.max.apply(Math, p.toCombine.map(function (o) { return o.goal.months; }));\n\t\t\tp.monthStart = monthEnd - p.duration + 1;\n\t\t\tp.month = monthEnd;\n\t\t}\n\t});\n\n\treturn periods;\n}\n\nexport function getResults(combinedIntervals) {\n\tconst result = combineIntervals(getIntervals(combineGoals(combinedIntervals)));\n\tconsole.log(result);\n\t\n\treturn result;\n\t\n}\n","import React, { Component } from 'react';\nimport { Grid, Row } from 'react-bootstrap';\nimport i18n from 'i18next';\n\nclass ResultTable extends Component {\n\n\trenderTableRow(interval) {\n\t\tif (!interval) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn <div>{interval.monthStart}. - {interval.month}. {i18n.t('calculation-month')} = {interval.paymentMin} {i18n.t('czk')}</div>;\n\t\t}\n\t}\n\n\trender() {\n\t\tconst intervals = this.props.intervals;\n\n\t\tif (!intervals || intervals.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<Grid fluid>\n\t\t\t\t<h1>{i18n.t('calculation-results')}</h1>\n\t\t\t\t{intervals.map((interval, idx) => {\n\t\t\t\t\treturn <Row key={idx}>\n\t\t\t\t\t\t{this.renderTableRow(interval)}\n\t\t\t\t\t</Row>;\n\t\t\t\t})}\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default ResultTable;\n","import React, { Component } from 'react';\nimport i18n from 'i18next';\nimport { Grid, Glyphicon, Form, FormGroup, ControlLabel, FormControl, Button, Row, Col } from 'react-bootstrap';\nimport { getResults } from './calculation';\nimport ResultTable from './components/resultTable';\n\nclass Main extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcalcDisabled: this.isCalcDisabled(),\n\t\t\tintervals: [],\n\t\t\tgoals: [{ name: '', amount: 0, months: 0 }]\n\t\t\t//goals: [{ name: '', amount: 500, months: 10 }, { name: '', amount: 1000, months: 20 }]\n\t\t};\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\trenderGoalInputs(goal, idx) {\n\t\treturn (\n\t\t\t<Row key={idx} style={{ 'margin': '0.3em' }}>\n\t\t\t\t<Col xs={1} md={1}>\n\t\t\t\t\t<Button type=\"button\" onClick={this.handleRemoveGoal.bind(this, idx)} bsStyle=\"danger\" title={i18n.t('goal-remove')}><Glyphicon glyph=\"trash\" /></Button>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={5} md={5}>\n\t\t\t\t\t<FormGroup controlId={`name-${idx}`}>\n\t\t\t\t\t\t<ControlLabel>{i18n.t('goal')}</ControlLabel>\n\t\t\t\t\t\t<FormControl type=\"text\" placeholder={i18n.t('goal') + ` #${idx + 1}`} value={goal.name} onChange={this.handleGoalNameChange.bind(this, idx, 'name')} />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t<FormGroup controlId={`amount-${idx}`}>\n\t\t\t\t\t\t<ControlLabel>{i18n.t('goal-amount')}</ControlLabel>\n\t\t\t\t\t\t<FormControl type=\"text\" placeholder=\"1000\" value={goal.amount} onChange={this.handleGoalNameChange.bind(this, idx, 'amount')} />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t<FormGroup controlId={`months-${idx}`}>\n\t\t\t\t\t\t<ControlLabel>{i18n.t('goal-months')}</ControlLabel>\n\t\t\t\t\t\t<FormControl type=\"text\" placeholder=\"12\" value={goal.months} onChange={this.handleGoalNameChange.bind(this, idx, 'months')} />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n\n\thandleAddGoal() {\n\t\tthis.setState({\n\t\t\tgoals: this.state.goals.concat([{ name: '', amount: 0, months: 0 }])\n\t\t});\n\t}\n\thandleRemoveGoal(idx) {\n\t\tthis.setState({\n\t\t\tgoals: this.state.goals.filter((s, sidx) => idx !== sidx)\n\t\t});\n\t}\n\thandleGoalNameChange(idx, attr, evt) {\n\t\tconst newgoals = this.state.goals.map((goal, sidx) => {\n\t\t\tif (idx !== sidx) { return goal; }\n\t\t\tswitch (attr) {\n\t\t\t\tcase 'amount':\n\t\t\t\t\treturn { ...goal, amount: evt.target.value };\n\t\t\t\tcase 'months':\n\t\t\t\t\treturn { ...goal, months: evt.target.value };\n\t\t\t\tdefault:\n\t\t\t\t\treturn { ...goal, name: evt.target.value };\n\t\t\t}\n\t\t});\n\n\t\tthis.setState({ goals: newgoals, calcDisabled: this.isCalcDisabled() });\n\t}\n\n\thandleSubmit(event) {\n\t\tthis.setState({ intervals: getResults(this.state.goals) });\n\t}\n\n\tisCalcDisabled() {\n\t\tlet disabled = true;\n\t\tif (this.state && this.state.goals && this.state.goals.length) {\n\t\t\tdisabled = this.state.goals.some(g => isNaN(g.amount) || isNaN(g.months));\n\t\t\tdisabled = this.state.goals.some(g => g.months === 0);\n\n\t\t}\n\t\treturn disabled;\n\t}\n\n\tgetCalculateTitle() {\n\t\tif (this.isCalcDisabled()) {\n\t\t\treturn i18n.t('calculate-disabled-title');\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid fluid>\n\t\t\t\t<h1>{i18n.t('calculation-title')}</h1>\n\t\t\t\t<Form>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Button onClick={this.handleAddGoal.bind(this)} bsStyle=\"success\" style={{ 'margin': '0.3em' }}><Glyphicon glyph=\"plus\" /> {i18n.t('goal-add')}</Button>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t{this.state.goals.map((goal, i) => this.renderGoalInputs(goal, i))}\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Button onClick={this.handleSubmit} bsStyle=\"primary\" style={{ 'margin': '0.3em' }} disabled={this.isCalcDisabled()} title={this.getCalculateTitle()}>{i18n.t('do-calculation')}</Button>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t\t<ResultTable intervals={this.state.intervals}></ResultTable>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Main;\n","import cs from './cs';\r\nimport en from './en';\r\n\r\nexport default { en, cs };\r\n","export default {\r\n\ttranslation: {\r\n\t\t'goal': 'Goal',\r\n\t\t'goal-add': 'Add goal',\r\n\t\t'goal-amount': 'Amount',\r\n\t\t'goal-months': 'months',\r\n\t\t'goal-remove': 'Remove goal',\r\n\t\t'calculation-title': 'Calculation',\r\n\t\t'do-calculation': 'Calculate',\r\n\t\t'calculation-month': 'month',\r\n\t\t'calculation-results': 'Results',\r\n\t\t'czk': 'CZK',\r\n\t\t'calculate-disabled-title': 'There has to be at least one goal. Amount and Months fields must be numbers. Months must be greater than 0'\r\n\t}\r\n};\r\n","export default {\r\n\ttranslation: {\r\n\t\t'goal': 'Cíl',\r\n\t\t'goal-add': 'Přidat cíl',\r\n\t\t'goal-amount': 'Částka',\r\n\t\t'goal-months': 'Počet měsíců',\r\n\t\t'goal-remove': 'Odebrat cíl',\r\n\t\t'calculation-title': 'Výpočet spoření',\r\n\t\t'do-calculation': 'Provést výpočet',\r\n\t\t'calculation-month': 'měsíc',\r\n\t\t'calculation-results': 'Výsledky',\r\n\t\t'czk': 'Kč',\r\n\t\t'calculate-disabled-title': 'Musí být zadán alespoň jeden cíl. Hodnoty v polích Částka a Měsíce musí být čísla. Měsíce musí být větší než nula'\r\n\t}\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Main from './Main';\nimport i18next from 'i18next';\nimport localization from './localization';\n\ni18next.init({\n\tlng: 'cs', // zatim jen cs a bez moznosti zmeny\n\tresources: localization,\n\tinterpolation: { escapeValue: false }  // React already does escaping\n});\n\nReactDOM.render(\n\t<Main />,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}
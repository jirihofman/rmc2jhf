(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(t,e,a){t.exports=a(88)},88:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),l=a(40),r=a.n(l),i=a(22),u=a(17),s=a(18),c=a(21),m=a(19),h=a(20),d=a(12),g=a(9),f=a(90),p=a(91),b=a(94),v=a(87),y=a(96),E=a(92),C=a(95),k=a(89),j=a(93);function M(t){var e=function(t){var e=t.map(function(t){return t.months}).filter(function(t,e,a){return a.indexOf(t)===e});return console.log(e),e}(t).map(function(e){var a={},n=t.filter(function(t){return t.months===e}).map(function(t){return t.amount}).reduce(function(t,e){return t+e});return a.amount=n,a.months=e,a});return console.log(e),e}function x(t){var e=function(t){var e=t.filter(function(t){return!t.previousLower});return e.forEach(function(a,n){console.log("jsem v %s a dalsi je %s",n,e[n+1]),a.toCombine=t.filter(function(t,o){if(t.previousLower&&t.index>a.index&&(e[n+1]&&e[n+1].index>t.index||!e[n+1]))return console.log("pridavam",t.index,t,a),!0})}),e.forEach(function(t,e){if(t.total=t.goal.amount,t.monthStart=t.month-t.duration+1,t.toCombine&&t.toCombine.length>0){console.log("budeme slucovat obdobi a splatky",t,t.toCombine);var a=t.toCombine.map(function(t){return t.goal.amount}).reduce(function(t,e){return t+e});console.log("+ ",a,t),t.total+=a,t.duration+=t.toCombine.map(function(t){return t.duration}).reduce(function(t,e){return t+e}),t.paymentMin=t.total/t.duration;var n=Math.max.apply(Math,t.toCombine.map(function(t){return t.goal.months}));t.monthStart=n-t.duration+1,t.month=n}}),e}(function(t){if(console.log("getResults"),!t||0===t.length)return null;t.map(function(t,e){console.log("Cil %s",e,t)}),t.sort(function(t,e){return t.months-e.months}),t.map(function(t,e){console.log("serazeno %s",e,t)});var e=t.map(function(t,e){return{month:t.months,min:0,previousLower:!1}});console.log("intervals",e);var a=t.map(function(t){return t.amount}).reduce(function(t,e){return t+e},0),n=Math.max.apply(Math,t.map(function(t){return t.months}));return console.log("total %s, duration %s",a,n),e.forEach(function(a,n){a.min=t.map(function(t,e){return n>=e?t.amount:0}).reduce(function(t,e){return t+e},0),a.previousMonth=t[n-1]?t[n-1].months:0,a.duration=a.month-a.previousMonth,delete a.previousMonth,a.paymentMin=t[n].amount/a.duration,a.goal=t[n],e[n-1]&&e[n-1].paymentMin<a.paymentMin&&(console.log("pro predchozi interval je nizsi splatka",e[n-1].paymentMin,a.paymentMin),a.previousLower=!0),a.index=n,console.log("foreach intervatl",n,a)}),e}(M(t)));return console.log(e),e}var O=function(t){function e(){return Object(u.a)(this,e),Object(c.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(s.a)(e,[{key:"renderTableRow",value:function(t){return t?o.a.createElement("div",null,t.monthStart,". - ",t.month,". ",g.a.t("calculation-month")," = ",t.paymentMin," ",g.a.t("czk")):null}},{key:"render",value:function(){var t=this,e=this.props.intervals;return e&&0!==e.length?o.a.createElement(k.a,{fluid:!0},o.a.createElement("h1",null,g.a.t("calculation-results")),e.map(function(e,a){return o.a.createElement(f.a,{key:a},t.renderTableRow(e))})):null}}]),e}(n.Component),S=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(c.a)(this,Object(m.a)(e).call(this,t))).state={calcDisabled:a.isCalcDisabled(),intervals:[],goals:[{name:"",amount:0,months:0}]},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(e,t),Object(s.a)(e,[{key:"renderGoalInputs",value:function(t,e){return o.a.createElement(f.a,{key:e,style:{margin:"0.3em"}},o.a.createElement(p.a,{xs:1,md:1},o.a.createElement(b.a,{type:"button",onClick:this.handleRemoveGoal.bind(this,e),bsStyle:"danger",title:g.a.t("goal-remove")},o.a.createElement(v.a,{glyph:"trash"}))),o.a.createElement(p.a,{xs:5,md:5},o.a.createElement(y.a,{controlId:"name-".concat(e)},o.a.createElement(E.a,null,g.a.t("goal")),o.a.createElement(C.a,{type:"text",placeholder:g.a.t("goal")+" #".concat(e+1),value:t.name,onChange:this.handleGoalNameChange.bind(this,e,"name")}))),o.a.createElement(p.a,{xs:3,md:2},o.a.createElement(y.a,{controlId:"amount-".concat(e)},o.a.createElement(E.a,null,g.a.t("goal-amount")),o.a.createElement(C.a,{type:"text",placeholder:"1000",value:t.amount,onChange:this.handleGoalNameChange.bind(this,e,"amount")}))),o.a.createElement(p.a,{xs:3,md:2},o.a.createElement(y.a,{controlId:"months-".concat(e)},o.a.createElement(E.a,null,g.a.t("goal-months")),o.a.createElement(C.a,{type:"text",placeholder:"12",value:t.months,onChange:this.handleGoalNameChange.bind(this,e,"months")}))))}},{key:"handleAddGoal",value:function(){this.setState({goals:this.state.goals.concat([{name:"",amount:0,months:0}])})}},{key:"handleRemoveGoal",value:function(t){this.setState({goals:this.state.goals.filter(function(e,a){return t!==a})})}},{key:"handleGoalNameChange",value:function(t,e,a){var n=this.state.goals.map(function(n,o){if(t!==o)return n;switch(e){case"amount":return Object(i.a)({},n,{amount:a.target.value});case"months":return Object(i.a)({},n,{months:a.target.value});default:return Object(i.a)({},n,{name:a.target.value})}});this.setState({goals:n,calcDisabled:this.isCalcDisabled()})}},{key:"handleSubmit",value:function(t){this.setState({intervals:x(this.state.goals)})}},{key:"isCalcDisabled",value:function(){var t=!0;return this.state&&this.state.goals&&this.state.goals.length&&(t=this.state.goals.some(function(t){return isNaN(t.amount)||isNaN(t.months)}),t=this.state.goals.some(function(t){return 0===t.months})),t}},{key:"getCalculateTitle",value:function(){return this.isCalcDisabled()?g.a.t("calculate-disabled-title"):null}},{key:"render",value:function(){var t=this;return o.a.createElement(k.a,{fluid:!0},o.a.createElement("h1",null,g.a.t("calculation-title")),o.a.createElement(j.a,null,o.a.createElement(f.a,null,o.a.createElement(b.a,{onClick:this.handleAddGoal.bind(this),bsStyle:"success",style:{margin:"0.3em"}},o.a.createElement(v.a,{glyph:"plus"})," ",g.a.t("goal-add"))),o.a.createElement(f.a,null,this.state.goals.map(function(e,a){return t.renderGoalInputs(e,a)})),o.a.createElement(f.a,null,o.a.createElement(b.a,{onClick:this.handleSubmit,bsStyle:"primary",style:{margin:"0.3em"},disabled:this.isCalcDisabled(),title:this.getCalculateTitle()},g.a.t("do-calculation")))),o.a.createElement(O,{intervals:this.state.intervals}))}}]),e}(n.Component),w={en:{translation:{goal:"Goal","goal-add":"Add goal","goal-amount":"Amount","goal-months":"months","goal-remove":"Remove goal","calculation-title":"Calculation","do-calculation":"Calculate","calculation-month":"month","calculation-results":"Results",czk:"CZK","calculate-disabled-title":"There has to be at least one goal. Amount and Months fields must be numbers. Months must be greater than 0"}},cs:{translation:{goal:"C\xedl","goal-add":"P\u0159idat c\xedl","goal-amount":"\u010c\xe1stka","goal-months":"Po\u010det m\u011bs\xedc\u016f","goal-remove":"Odebrat c\xedl","calculation-title":"V\xfdpo\u010det spo\u0159en\xed","do-calculation":"Prov\xe9st v\xfdpo\u010det","calculation-month":"m\u011bs\xedc","calculation-results":"V\xfdsledky",czk:"K\u010d","calculate-disabled-title":"Mus\xed b\xfdt zad\xe1n alespo\u0148 jeden c\xedl. Hodnoty v pol\xedch \u010c\xe1stka a M\u011bs\xedce mus\xed b\xfdt \u010d\xedsla. M\u011bs\xedce mus\xed b\xfdt v\u011bt\u0161\xed ne\u017e nula"}}};g.a.init({lng:"cs",resources:w,interpolation:{escapeValue:!1}}),r.a.render(o.a.createElement(S,null),document.getElementById("root"))}},[[47,2,1]]]);
//# sourceMappingURL=main.24d71620.chunk.js.map
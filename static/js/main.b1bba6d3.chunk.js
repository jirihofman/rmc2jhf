(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(t,e,a){t.exports=a(88)},88:function(t,e,a){"use strict";a.r(e);var n=a(0),l=a.n(n),o=a(40),r=a.n(o),u=a(22),i=a(17),s=a(18),c=a(20),m=a(19),h=a(21),d=a(12),f=a(9),b=a(90),g=a(91),p=a(97),v=a(92),E=a(96),y=a(95),C=a(85),k=a(89),O=a(93),j=a(94);function S(t){return t&&0!==t.length?function(t){var e=t.filter(function(t){return!t.previousLower});return e.forEach(function(a,n){a.toCombine=t.filter(function(t,l){return t.previousLower&&t.index>a.index&&(e[n+1]&&e[n+1].index>t.index||!e[n+1])})}),e.forEach(function(t,e){if(t.total=t.goal.amount,t.monthStart=t.month-t.duration+1,t.toCombine&&t.toCombine.length>0){var a=t.toCombine.map(function(t){return t.goal.amount}).reduce(function(t,e){return t+e});t.total+=a,t.duration+=t.toCombine.map(function(t){return t.duration}).reduce(function(t,e){return t+e}),t.payment=t.total/t.duration;var n=Math.max.apply(Math,t.toCombine.map(function(t){return t.goal.months}));t.monthStart=n-t.duration+1,t.month=n}}),e}(function(t){t.sort(function(t,e){return t.months-e.months});var e=t.map(function(t,e){return{month:t.months,previousLower:!1}});return e.forEach(function(a,n){var l=t[n-1]?t[n-1].months:0;a.duration=a.month-l,a.payment=t[n].amount/a.duration,a.goal=t[n],e[n-1]&&e[n-1].payment<a.payment&&(a.previousLower=!0),a.index=n}),e}(function(t){return function(t){return t.map(function(t){return t.months}).filter(function(t,e,a){return a.indexOf(t)===e})}(t).map(function(e){var a={},n=t.filter(function(t){return t.months===e}).map(function(t){return Number(t.amount)}).reduce(function(t,e){return t+e});return a.amount=n,a.months=e,a})}(t))).map(function(t){return{monthStart:t.monthStart,monthEnd:t.month,payment:t.payment}}):null}var x=function(t){function e(){return Object(i.a)(this,e),Object(c.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(s.a)(e,[{key:"renderTableRow",value:function(t){return t?l.a.createElement("div",null,t.monthStart,". - ",t.monthEnd,". ",f.a.t("calculation-month")," = ",t.payment," ",f.a.t("czk")):null}},{key:"render",value:function(){var t=this,e=this.props.intervals;return e&&0!==e.length?l.a.createElement(k.a,{fluid:!0},l.a.createElement("h1",null,f.a.t("calculation-results")),e.map(function(e,a){return l.a.createElement(b.a,{key:a},t.renderTableRow(e))})):null}}]),e}(n.Component),w=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(c.a)(this,Object(m.a)(e).call(this,t))).state={calcDisabled:a.isCalcDisabled(),intervals:[],goals:[{name:"",amount:0,months:0}]},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(e,t),Object(s.a)(e,[{key:"renderGoalInputs",value:function(t,e){return l.a.createElement(b.a,{key:e,style:{margin:"0.3em",display:"inline"}},l.a.createElement(g.a,{xs:5,md:5},l.a.createElement(p.a,{controlId:"name-".concat(e)},l.a.createElement(v.a,null,f.a.t("goal")),l.a.createElement(E.a,{type:"text",placeholder:f.a.t("goal"),value:t.name,onChange:this.handleGoalNameChange.bind(this,e,"name")}))),l.a.createElement(g.a,{xs:3,md:2},l.a.createElement(p.a,{controlId:"amount-".concat(e)},l.a.createElement(v.a,null,f.a.t("goal-amount")),l.a.createElement(E.a,{type:"number",placeholder:"1000",step:"1000",min:"0",value:t.amount,onChange:this.handleGoalNameChange.bind(this,e,"amount")}))),l.a.createElement(g.a,{xs:3,md:2},l.a.createElement(p.a,{controlId:"months-".concat(e)},l.a.createElement(v.a,null,f.a.t("goal-months")),l.a.createElement(E.a,{type:"number",placeholder:"12",min:"1",value:t.months,onChange:this.handleGoalNameChange.bind(this,e,"months")}))),l.a.createElement(g.a,null,l.a.createElement(y.a,{type:"button",onClick:this.handleRemoveGoal.bind(this,e),bsStyle:"danger",title:f.a.t("goal-remove")},l.a.createElement(C.a,{glyph:"trash"}))))}},{key:"handleAddGoal",value:function(){this.setState({goals:this.state.goals.concat([{name:"",amount:0,months:0}])})}},{key:"handleRemoveGoal",value:function(t){this.setState({goals:this.state.goals.filter(function(e,a){return t!==a})})}},{key:"handleGoalNameChange",value:function(t,e,a){var n=this.state.goals.map(function(n,l){if(t!==l)return n;switch(e){case"amount":return Object(u.a)({},n,{amount:a.target.value});case"months":return Object(u.a)({},n,{months:a.target.value});default:return Object(u.a)({},n,{name:a.target.value})}});this.setState({goals:n,calcDisabled:this.isCalcDisabled()})}},{key:"handleSubmit",value:function(t){this.setState({intervals:S(this.state.goals)})}},{key:"isCalcDisabled",value:function(){var t=!0;return this.state&&this.state.goals&&this.state.goals.length&&(t=this.state.goals.some(function(t){return isNaN(t.amount)||isNaN(t.months)})||this.state.goals.some(function(t){return t.months<1})),t}},{key:"getCalculateTitle",value:function(){return this.isCalcDisabled()?f.a.t("calculate-disabled-title"):null}},{key:"render",value:function(){var t=this;return l.a.createElement(k.a,null,l.a.createElement(b.a,null,l.a.createElement(g.a,{xs:8,xsOffset:2},l.a.createElement(O.a,null,f.a.t("calculation-title")),l.a.createElement(j.a,null,l.a.createElement(b.a,null,l.a.createElement(y.a,{onClick:this.handleAddGoal.bind(this),bsStyle:"success",style:{margin:"0.3em"}},l.a.createElement(C.a,{glyph:"plus"})," ",f.a.t("goal-add"))),l.a.createElement(b.a,null,this.state.goals.map(function(e,a){return t.renderGoalInputs(e,a)})),l.a.createElement(b.a,null,l.a.createElement(y.a,{onClick:this.handleSubmit,bsStyle:"primary",style:{margin:"0.3em"},disabled:this.isCalcDisabled(),title:this.getCalculateTitle()},f.a.t("do-calculation")))),l.a.createElement(x,{intervals:this.state.intervals}))))}}]),e}(n.Component),G={en:{translation:{goal:"Goal","goal-add":"Add goal","goal-amount":"Amount","goal-months":"months","goal-remove":"Remove goal","calculation-title":"Calculation","do-calculation":"Calculate","calculation-month":"month","calculation-results":"Results",czk:"CZK","calculate-disabled-title":"There has to be at least one goal. Amount and Months fields must be numbers. Months must be greater than 0"}},cs:{translation:{goal:"N\xe1zev c\xedle","goal-add":"P\u0159idat c\xedl","goal-amount":"\u010c\xe1stka","goal-months":"M\u011bs\xedc\u016f","goal-remove":"Odebrat c\xedl","calculation-title":"V\xfdpo\u010det spo\u0159en\xed","do-calculation":"Prov\xe9st v\xfdpo\u010det","calculation-month":"m\u011bs\xedc","calculation-results":"V\xfdsledky",czk:"K\u010d","calculate-disabled-title":"Mus\xed b\xfdt zad\xe1n alespo\u0148 jeden c\xedl. Hodnoty v pol\xedch \u010c\xe1stka a M\u011bs\xedce mus\xed b\xfdt \u010d\xedsla. M\u011bs\xedce mus\xed b\xfdt v\u011bt\u0161\xed ne\u017e nula"}}};f.a.init({lng:"cs",resources:G,interpolation:{escapeValue:!1}}),r.a.render(l.a.createElement(w,null),document.getElementById("root"))}},[[47,2,1]]]);
//# sourceMappingURL=main.b1bba6d3.chunk.js.map